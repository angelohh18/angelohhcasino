
.pair-label {
    position: absolute;
    z-index: 12;
    width: 30px;
    height: 30px;
    background: rgba(255, 255, 255, 0.9);
    border: 2px solid #333;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 900;
    color: #333;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    display: none;
}

/* ‚ñ≤‚ñ≤‚ñ≤ FIN DEL BLOQUE A A√ëADIR ‚ñ≤‚ñ≤‚ñ≤ */

#pair-label-red {
    top: -15%;
    left: 5%;
}

#pair-label-blue {
    top: -15%;
    right: 5%;
}

#pair-label-green {
    bottom: -15%;
    left: 5%;
}

#pair-label-yellow {
    bottom: -15%;
    right: 5%;
}

.pair-label.pair-A {
    background-color: #f1c40f;
    color: #333;
    border-color: #fff;
}

.pair-label.pair-B {
    background-color: #3498db;
    color: #fff;
    border-color: #fff;
}

@media (max-width: 700px), (max-height: 550px) {
    .pair-label {
        width: 25px;
        height: 25px;
        font-size: 1rem;
    }

    #pair-label-red,
    #pair-label-blue {
        top: -20%;
    }

    #pair-label-green,
    #pair-label-yellow {
        bottom: -20%;
    }

    #pair-label-red,
    #pair-label-green {
        left: 8%;
    }

    #pair-label-blue,
    #pair-label-yellow {
        right: 8%;
    }
}
/* ===========================================
   ESTILOS BASE DEL TABLERO DE LUDO (EXTRA√çDOS)
   =========================================== */

 :root {
    /* Tama√±o del tablero (ajustable) - Basado en ancho para mejor soporte vertical */
    --board-size: min(90vw, 90vh, 500px); /* Usa 90% del ancho o alto, con m√°ximo de 500px */

    /* Colores base de las √°reas */
    --green-color: #2ecc71;
    --yellow-color: #f1c40f;
    --blue-color: #3498db;
    --red-color: #e74c3c;
    
    /* ‚ñº‚ñº‚ñº VARIABLES ACTUALIZADAS ‚ñº‚ñº‚ñº */
    --green-piece-color: #66ff6d;         /* (Se mantiene igual) */
    --yellow-piece-color: rgb(255 255 0); /* Nuevo amarillo puro */
    --blue-piece-color: #0daeedfa;        /* Nuevo azul cian/transparente */
    --red-piece-color: #ff0000;           /* Nuevo rojo puro */
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LA ACTUALIZACI√ìN ‚ñ≤‚ñ≤‚ñ≤ */

    --light-gray: #ecf0f1; /* Color de fondo general y casillas neutras */
    --dark-gray: #34495e;  /* Color para n√∫meros/texto */
    --border-color: black; /* Color de los bordes */

    /* Variables de La 51 (para UI reutilizada) */
    --casino-gold: #c5a56a;
    --casino-tan: #e0d3b6;
    --casino-dark-panel: #211e18;
    --casino-burgundy-felt: #6D2932;
}

/* Ajustes generales para la p√°gina del juego */
body.game-active {
    background: radial-gradient(circle, #4a4a3a, var(--casino-dark-panel)); /* Fondo oscuro */
    color: var(--casino-tan);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    overflow: hidden; /* Evitar scroll */
    display: flex; /* Usar flex para centrar */
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

/* Contenedor principal del juego Ludo (a√±adido para layout) */
#ludo-game-container {
    display: flex;
    flex-direction: column;
    justify-content: space-around; /* Distribuir espacio uniformemente */
    align-items: center;
    width: 100%;
    height: 100vh; /* Ocupa toda la altura */
    padding: 10px 0; /* Peque√±o padding vertical */
    box-sizing: border-box;
}

/* Contenedor del tablero */
#ludo-board-container {
    position: relative;
    flex-shrink: 0; /* Evita que el tablero se encoja */
    width: var(--board-size);
    height: var(--board-size);
    margin: 10px auto; /* Margen superior/inferior autom√°tico */
}

#ludo-board {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-template-rows: 1fr 1fr 1fr;
    width: 100%;
    height: 100%;
    border: 2px solid var(--border-color);
    background-color: var(--light-gray);
    position: relative;
}

/* √Åreas de las esquinas */
.area {
    position: relative;
    border: none;
    box-shadow: inset 0 0 0 2px var(--border-color), inset 3px 3px 7px rgba(0,0,0,0.35);
}
.area.red { background-color: var(--red-color); }
.area.green { background-color: var(--green-color); }
.area.blue { background-color: var(--blue-color); }
.area.yellow { background-color: var(--yellow-color); }

/* Caminos */
.path {
    display: grid;
    background-color: var(--light-gray);
    position: relative;
    border: none;
}
.path-horizontal {
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(3, 1fr);
}
.path-vertical {
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(7, 1fr);
}

/* Celdas de los caminos */
.path .cell {
    border: 0.5px solid var(--border-color);
    box-sizing: border-box;
    position: relative;
    background-color: white;
    overflow: hidden;
}

/* Pseudo-elemento para mostrar el n√∫mero DETR√ÅS */
.path .cell::before {
    content: attr(data-cell); /* Muestra el n√∫mero del atributo data-cell */
    position: absolute;
    top: 50%;
    left: 50%;
    /* ‚ñº‚ñº‚ñº REEMPLAZA ESTA L√çNEA ‚ñº‚ñº‚ñº */
    transform: translate(-50%, -50%) rotate(var(--board-counter-rotation, 0deg));
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LA MODIFICACI√ìN ‚ñ≤‚ñ≤‚ñ≤ */
    font-size: calc(var(--board-size) / 45);
    font-weight: bold;
    color: var(--dark-gray);
    z-index: 1; /* Detr√°s de la ficha (que tendr√° z-index > 1) */
    pointer-events: none; /* No interfiere con clics */
    
    /* ‚ñº‚ñº‚ñº L√çNEA MODIFICADA ‚ñº‚ñº‚ñº */
    display: none; /* N√∫meros del tablero ocultos */
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LA MODIFICACI√ìN ‚ñ≤‚ñ≤‚ñ≤ */
}

/* Centro del tablero */
.center {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    background-color: var(--light-gray);
    box-sizing: border-box;
    position: relative;
}

/* Celdas del centro */
.center .cell {
    border: none;
    position: relative;
    box-sizing: border-box;
}
.svg-cell {
    padding: 0;
    overflow: visible;
    position: relative; /* Para posicionar el popup dentro de la celda */
}
.clickable-shape {
    stroke: var(--border-color);
    stroke-width: 1.2;
    cursor: pointer;
}
.cell-number-svg {
    font-size: calc(var(--board-size) / 45);
    font-weight: bold;
    fill: var(--dark-gray);
    text-anchor: middle;
    dominant-baseline: middle;
    pointer-events: none;

    /* ‚ñº‚ñº‚ñº A√ëADE ESTAS L√çNEAS ‚ñº‚ñº‚ñº */
    transform-origin: 50% 50%; /* Asegura que rote sobre su centro */
    transform: rotate(var(--board-counter-rotation, 0deg));
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE L√çNEAS A√ëADIDAS ‚ñ≤‚ñ≤‚ñ≤ */

    /* ‚ñº‚ñº‚ñº L√çNEA MODIFICADA ‚ñº‚ñº‚ñº */
    display: none; /* N√∫meros del tablero ocultos */
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LA MODIFICACI√ìN ‚ñ≤‚ñ≤‚ñ≤ */
}

/* Clases de color para celdas y formas SVG */
.path .cell.yellow-cell { /* Or just .path .yellow-cell */
    background-color: var(--yellow-color);
}
.yellow-shape { fill: var(--yellow-color); }
.path .cell.blue-cell { /* Or just .path .blue-cell */
    background-color: var(--blue-color);
}
.blue-shape { fill: var(--blue-color); }
.path .cell.red-cell { /* Or just .path .red-cell */
    background-color: var(--red-color);
}
.red-shape { fill: var(--red-color); }
.path .cell.green-cell { /* Or just .path .green-cell */
    background-color: var(--green-color);
}
.green-shape { fill: var(--green-color); }

/* Capa para piezas (estilos inline en el HTML) */

/* ===========================================
   ESTILOS PARA INTERFAZ DE JUGADOR (REUTILIZADOS/ADAPTADOS)
   =========================================== */

/* √Åreas de Jugadores (Estilo La 51 Adaptado) */
.player-area {
    width: 100%;
    display: flex;
    align-items: center;
    z-index: 5;
    flex-shrink: 0;
    padding: 5px 10px;
    box-sizing: border-box;
}
.player-area.top {
    justify-content: center;
    position: relative; /* Cambiado de absolute a relative para mejor flujo vertical */
    margin: 0 auto;
    max-width: var(--board-size);
}
.player-area.top .opponents-container {
    display: flex;
    justify-content: space-around; /* Cambiado para mejor distribuci√≥n */
    flex-wrap: wrap; /* Permitir que se envuelvan en pantallas peque√±as */
    width: 100%;
    gap: 10px; /* A√±adido espacio entre oponentes */
}
.player-area.bottom {
    justify-content: center; /* Centrar los controles */
    flex-wrap: wrap; /* Permitir que se envuelvan si es necesario */
    position: relative; /* Cambiado de absolute a relative para mejor flujo vertical */
    margin: 0 auto;
    max-width: var(--board-size);
    gap: 15px; /* M√°s espacio entre elementos */
}

/* Caja de Info del Jugador (Adaptada) */
.info-bot {
    display: flex;
    align-items: center;
    background: rgba(0,0,0,0.7);
    padding: 5px 8px;
    border-radius: 6px;
    border: 1px solid var(--casino-gold);
    box-shadow: inset 0 0 5px rgba(0,0,0,0.4);
    color: var(--casino-tan);
    min-width: 130px;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.info-bot.current-turn-glow {
  border-color: #adff2f;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.5), 0 0 10px rgba(173, 255, 47, 0.6);
}

.player-avatar {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid var(--casino-gold);
    margin-right: 6px;
    flex-shrink: 0;
    background-color: #555;
}
.player-details {
    text-align: left;
    overflow: hidden;
}
.player-name {
    font-weight: bold;
    font-size: 0.8rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Controles Centrales de Ludo */
#ludo-controls-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
    order: -1; /* Mover los dados al principio en el flujo flex */
    width: 100%; /* Ocupar todo el ancho disponible */
}

#dice-container {
    display: flex;
    gap: 10px;
    justify-content: center;
    align-items: center;
}

.dice {
    width: 45px;
    height: 45px;
    background-color: white;
    border: 1px solid #333;
    border-radius: 6px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    padding: 4px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.5s ease-out;
}

.dice-dot {
    width: 8px;
    height: 8px;
    background-color: #333;
    border-radius: 50%;
    align-self: center;
    justify-self: center;
}

/* Bot√≥n Lanzar Dados */
#btn-roll-dice {
    padding: 8px 16px;
    font-size: 14px;
    font-weight: bold;
    background: linear-gradient(to bottom, #d1b47a, #b59458);
    color: var(--casino-dark-panel);
    border: 1px solid var(--casino-dark-panel);
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
}
#btn-roll-dice:hover:not(:disabled) {
    background: linear-gradient(to bottom, #e0c58a, #c5a56a);
    box-shadow: 0 3px 6px rgba(0,0,0,0.4);
    transform: translateY(-1px);
}
#btn-roll-dice:disabled {
    background: #95a5a6;
    color: #555;
    cursor: not-allowed;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
    transform: none;
}

.ludo-action-btn {
    background: none;
    border: 1px solid var(--casino-gold);
    border-radius: 50%;
    color: var(--casino-gold);
    width: 30px;
    height: 30px;
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}
.ludo-action-btn:hover {
    background-color: rgba(197, 165, 106, 0.2);
    transform: scale(1.1);
}

/* Chat Container (reutilizado) */
#chat-container {
    position: absolute;
    top: 5px;
    right: 10px;
    z-index: 900;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}
.top-controls-wrapper {
    display: flex;
    gap: 5px;
}
.top-controls-wrapper button {
    padding: 4px 8px;
    font-size: 11px;
    margin: 0;
    background: var(--casino-burgundy-felt);
    color: var(--casino-tan);
    border: 1px solid var(--casino-gold);
    border-radius: 4px;
    cursor: pointer;
}
#chat-toggle-btn {
    position: relative;
}
#chat-notification-badge {
    position: absolute;
    top: -3px;
    right: -3px;
    background-color: #ff4444;
    color: white;
    border-radius: 50%;
    width: 15px;
    height: 15px;
    font-size: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    border: 1px solid var(--casino-dark-panel);
}
#chat-window {
    width: 280px;
    max-width: 70vw;
    background: rgba(33, 30, 24, 0.9);
    backdrop-filter: blur(3px);
    border: 1px solid var(--casino-gold);
    border-radius: 6px;
    margin-top: 5px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
    max-height: 0;
    opacity: 0;
}
#chat-window.visible {
    max-height: 300px;
    opacity: 1;
}
#chat-messages {
    list-style: none;
    padding: 8px;
    flex-grow: 1;
    overflow-y: auto;
    max-height: 200px;
    display: flex;
    flex-direction: column-reverse;
}
#chat-messages-inner {
  display: flex;
  flex-direction: column;
}
#chat-messages li {
    margin-bottom: 5px;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    word-wrap: break-word;
    background: rgba(224, 211, 182, 0.1);
    color: var(--casino-tan);
}
#chat-messages li .sender {
    font-weight: bold;
    color: var(--casino-gold);
    display: block;
    margin-bottom: 2px;
}
.chat-input-area {
    display: flex;
    padding: 8px;
    background: rgba(0,0,0,0.3);
    border-top: 1px solid var(--casino-gold);
}
#chat-input {
    flex-grow: 1;
    background: var(--casino-dark-panel);
    border: 1px solid var(--casino-gold);
    color: var(--casino-tan);
    padding: 6px;
    border-radius: 4px 0 0 4px;
    outline: none;
    font-size: 12px;
}
#chat-send-btn {
    padding: 6px 10px;
    font-size: 12px;
    border-radius: 0 4px 4px 0;
    background: var(--casino-gold);
    border: 1px solid var(--casino-dark-panel);
    color: var(--casino-dark-panel);
    cursor: pointer;
}

/* Modal Confirmar Salida */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

#confirm-leave-modal .content {
    background: var(--casino-dark-panel);
    padding: 20px;
    border-radius: 10px;
    border: 2px solid var(--casino-gold);
    color: var(--casino-tan);
    width: 90%;
    max-width: 350px;
    text-align: center;
    box-shadow: 0 0 15px rgba(0,0,0,0.6);
}
#confirm-leave-modal .button-group {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 20px;
}
#confirm-leave-modal button {
    padding: 8px 16px;
    font-size: 14px;
    border-radius: 6px;
    border: 1px solid var(--casino-dark-panel);
    background: linear-gradient(to bottom, #d1b47a, #b59458);
    color: var(--casino-dark-panel);
    font-weight: bold;
    cursor: pointer;
}
#confirm-leave-modal button.secondary {
    background: var(--casino-burgundy-felt);
    color: var(--casino-tan);
}

/* Mensaje de orientaci√≥n */
#orientation-message {
    display: none;
    position: fixed;
    inset: 0;
    background: var(--casino-dark-panel);
    color: var(--casino-tan);
    z-index: 100000;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 20px;
    font-size: 1.2rem;
}

/* --- INICIO: FORZAR VISTA VERTICAL (JUEGO) --- */
@media (orientation: landscape) and (max-height: 700px) {
    /* 1. Ocultar el contenido principal del juego y los modales */
    #ludo-game-container,
    #victory-overlay,
    #ready-overlay,
    #foul-modal,
    #confirm-leave-modal,
    #rules-modal {
        display: none !important; /* Oculta todo el contenido del juego */
    }

    /* 2. Mostrar el mensaje de orientaci√≥n */
    #orientation-message {
        display: flex; /* Muestra el mensaje de bloqueo */
    }
}
/* --- FIN: FORZAR VISTA VERTICAL (JUEGO) --- */

/* Media Queries espec√≠ficas para Ludo */
@media (max-width: 650px) and (orientation: landscape) {
    :root {
        --board-size: min(80vh, 500px);
    }
     .player-area.bottom {
        max-width: calc(var(--board-size) + 50px);
    }
    .info-bot {
        min-width: 110px;
        padding: 4px 6px;
    }
    .player-avatar {
        width: 25px;
        height: 25px;
    }
    .player-name {
        font-size: 0.7rem;
    }
    .dice {
        width: 40px;
        height: 40px;
    }
    #btn-roll-dice {
        padding: 6px 12px;
        font-size: 12px;
    }
    .ludo-action-btn {
        width: 25px;
        height: 25px;
        font-size: 14px;
    }
    #chat-window {
        width: 220px;
    }
}

@media (max-height: 450px) and (orientation: landscape) {
     :root {
        --board-size: min(75vh, 400px);
    }
     .player-area.top, .player-area.bottom {
        position: static;
        margin: 5px auto;
    }
     #ludo-game-container {
        justify-content: center;
    }
}

/* Media Queries para orientaci√≥n vertical (portrait) */
@media (orientation: portrait) {
    :root {
        --board-size: min(96vw, 450px); /* Basado principalmente en el ancho */
    }
    
    #ludo-game-container {
        justify-content: space-evenly; /* Mejor distribuci√≥n vertical */
        padding: 5px 0;
    }
    
    .player-area.top {
        max-width: 95vw;
    }
    
    .player-area.top .opponents-container {
        justify-content: space-evenly;
        gap: 5px;
    }
    
    .player-area.bottom {
        max-width: 95vw;
        gap: 10px;
    }
    
    .info-bot {
        min-width: 120px;
        padding: 4px 6px;
    }
    
    .player-avatar {
        width: 28px;
        height: 28px;
    }
    
    .player-name {
        font-size: 0.75rem;
    }
    
    .dice {
        width: 42px;
        height: 42px;
    }
    
    #btn-roll-dice {
        padding: 7px 14px;
        font-size: 13px;
    }
    
    #chat-container {
        top: 5px;
        right: 5px;
    }
    
    #chat-window {
        width: 260px;
        max-width: 85vw;
    }
}

/* Ajustes adicionales para pantallas muy peque√±as en vertical */
@media (max-width: 400px) and (orientation: portrait) {
    :root {
        --board-size: min(95vw, 380px);
    }
    
    .info-bot {
        min-width: 100px;
        padding: 3px 5px;
    }
    
    .player-avatar {
        width: 25px;
        height: 25px;
    }
    
    .player-name {
        font-size: 0.7rem;
    }
    
    .dice {
        width: 38px;
        height: 38px;
    }
    
    .dice-dot {
        width: 6px;
        height: 6px;
    }
    
    #btn-roll-dice {
        padding: 6px 12px;
        font-size: 12px;
    }
    
    .player-area.top .opponents-container {
        gap: 3px;
    }
    
    .player-area.bottom {
        gap: 8px;
    }
}

/* ===========================================
   ESTILOS PARA CAJAS DE INFORMACI√ìN DE JUGADORES (EXTERIORES)
   =========================================== */

/* Estilo base para las cajas de informaci√≥n exteriores */
.player-info-box {
    position: absolute;
    z-index: 10;
    display: flex;
    align-items: center;
    background: rgba(0, 0, 0, 0.7);
    padding: 5px 8px; /* Ajusta el padding si es necesario */
    border-radius: 8px;
    border: 1px solid var(--casino-gold);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
    gap: 6px; /* Ajusta el gap si es necesario */

    /* --- CAMBIOS PRINCIPALES --- */
    width: 150px; /* Ancho fijo (ajusta este valor si prefieres otro) */
    height: 45px; /* Alto fijo (ajusta este valor) */
    box-sizing: border-box; /* Incluye padding y borde en el tama√±o fijo */
    /* min-width: 130px; */ /* Eliminado */
    /* max-width: 160px; */ /* Eliminado */
    /* width: auto; */      /* Eliminado */
    /* --- FIN CAMBIOS --- */

    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Ajustes espec√≠ficos heredados de .info-bot */
.player-info-box .player-avatar {
    width: 30px; /* Hacemos el avatar un poco m√°s peque√±o */
    height: 30px;
    margin-right: 0; /* Quitamos margen derecho extra */
}

.player-info-box .player-details {
    flex-grow: 1; /* Permite que ocupe espacio disponible */
    text-align: left;
    overflow: hidden; /* Evita desbordamiento del nombre */
}

.player-info-box .player-name {
    font-size: 0.8rem;
    color: var(--casino-tan);
    white-space: nowrap;
    overflow: hidden; /* Asegura que el texto largo se oculte */
    text-overflow: ellipsis; /* A√±ade puntos suspensivos (...) */
    flex-grow: 1; /* Permite que ocupe espacio, pero overflow lo cortar√° */
}

/* Contenedor de los dados del jugador (AHORA POSICIONADO ABSOLUTAMENTE) */
.player-dice-container {
    position: absolute;
    z-index: 11;
    display: flex;
    gap: 2px; /* Reducimos el espacio entre dados */
    /* ‚ñº‚ñº‚ñº PRUEBA AUMENTANDO ESTE VALOR ‚ñº‚ñº‚ñº */
    perspective: 600px; /* Aumentado de 400px (o prueba 800px) */
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DEL CAMBIO ‚ñ≤‚ñ≤‚ñ≤ */
}

/* Estilo de los dados del jugador */
.player-dice {
    width: 34px; /* Aumentamos tama√±o */
    height: 34px;
    padding: 4px; /* Un poco m√°s de padding */
    border-radius: 5px; /* Un poco m√°s redondeado */
    /* ‚ñº‚ñº‚ñº A√ëADE ESTAS L√çNEAS ‚ñº‚ñº‚ñº */
    transform: rotate(0deg); /* Estado inicial expl√≠cito */
    transition: transform 0.3s ease-out; /* Transici√≥n S√ìLO para el reseteo */
    transform-style: preserve-3d; /* <-- Habilita transformaciones 3D */
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN L√çNEAS A√ëADIDAS ‚ñ≤‚ñ≤‚ñ≤ */
}

/* Puntos de los dados del jugador */
.player-dice .dice-dot {
    width: 6px; /* Hacemos los puntos m√°s grandes */
    height: 6px;
}

/* Posicionamiento con ancho fijo - CONSISTENTE PARA TODOS */

/* --- Jugador Rojo (Arriba Izquierda) --- */
#player-info-box-red {
    top: -8%; /* % por encima */
    left: 1%;  /* % desde la izquierda */
}
#player-dice-container-red {
    top: -7%; /* Alineado verticalmente aprox. */
    /* Dados a la derecha, cerca */
    left: calc(1% + 150px + 1%); /* Usa el nuevo ancho fijo (150px) */
}

/* --- Jugador Azul (Arriba Derecha) --- */
#player-info-box-blue {
    top: -8%;
    right: 1%; /* % desde la derecha */
}
#player-dice-container-blue {
    top: -7%;
    /* Dados a la izquierda, cerca */
    right: calc(1% + 150px + 1%); /* Usa el nuevo ancho fijo (150px) */
}

/* --- Jugador Verde (Abajo Izquierda) --- */
#player-info-box-green {
    bottom: -8%; /* % por debajo */
    left: 1%;
}
#player-dice-container-green {
    bottom: -7%;
    left: calc(1% + 150px + 1%); /* Usa el nuevo ancho fijo (150px) */
}

/* --- Jugador Amarillo (Abajo Derecha) --- */
#player-info-box-yellow {
    bottom: -8%;
    right: 1%;
}
#player-dice-container-yellow {
    bottom: -7%;
    right: calc(1% + 150px + 1%); /* Usa el nuevo ancho fijo (150px) */
}

/* Estilo para indicar el turno actual (igual que antes) */
.player-info-box.current-turn-glow {
  border-color: #adff2f; /* Verde brillante */
  box-shadow: 0 0 10px rgba(173, 255, 47, 0.7), 0 2px 5px rgba(0, 0, 0, 0.5);
  /* ‚ñº‚ñº‚ñº A√ëADE ESTA L√çNEA ‚ñº‚ñº‚ñº */
  animation: pulseGlow 1.5s infinite ease-in-out;
}

/* --- Ajustes Responsivos --- */
/* Ancho fijo m√°s peque√±o para pantallas peque√±as */
@media (max-width: 700px), (max-height: 550px) {
    .player-info-box {
        width: 120px; /* Ancho fijo m√°s peque√±o */
        height: 40px; /* Alto fijo m√°s peque√±o */
        padding: 4px 6px;
        gap: 4px;
    }
    .player-info-box .player-avatar {
        width: 25px;
        height: 25px;
    }
    .player-info-box .player-name {
        font-size: 0.75rem;
    }
    .player-dice {
        width: 25px;
        height: 25px;
    }
    .player-dice .dice-dot {
        width: 4px;
        height: 4px;
    }
    /* Ajustes de posici√≥n con ancho fijo (120px) */
    #player-info-box-red, #player-info-box-blue { top: -12%; }
    #player-info-box-green, #player-info-box-yellow { bottom: -12%; }
    #player-dice-container-red, #player-dice-container-blue { top: -11%; }
    #player-dice-container-green, #player-dice-container-yellow { bottom: -11%; }

    /* Rojo y Verde - Recalcular posici√≥n de dados con el nuevo ancho fijo (120px) */
    #player-info-box-red, #player-info-box-green { left: 0.5%; }
    #player-dice-container-red, #player-dice-container-green { left: calc(0.5% + 120px + 0.5%); }

    /* Azul y Amarillo - Recalcular posici√≥n de dados con el nuevo ancho fijo (120px) */
    #player-info-box-blue, #player-info-box-yellow { right: 0.5%; }
    #player-dice-container-blue, #player-dice-container-yellow { right: calc(0.5% + 120px + 0.5%); }
}


/* ===========================================
   ESTILOS PARA FICHAS (PIECES)
   =========================================== */

/* Contenedor de fichas en la base */
.base-pieces-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    /* ‚ñº‚ñº‚ñº L√çNEAS MODIFICADAS ‚ñº‚ñº‚ñº */
    gap: 25%; /* Aumentado de 15% */
    padding: 25%; /* Aumentado de 18% */
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LA MODIFICACI√ìN ‚ñ≤‚ñ≤‚ñ≤ */
    width: 100%;
    height: 100%;
    position: relative;
    box-sizing: border-box;
}

/* Estilo base de una ficha (general) */
.ludo-piece {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    box-sizing: border-box;
    border: 2px solid rgba(0, 0, 0, 0.6);
    box-shadow: inset 0 -3px 4px rgba(0, 0, 0, 0.4), 
                inset 0 4px 5px rgba(255, 255, 255, 0.3),
                0 2px 3px rgba(0, 0, 0, 0.3);
    /* Transici√≥n para futuros movimientos */
    transition: transform 0.3s ease, top 0.3s ease, left 0.3s ease;
}

/* Ficha espec√≠fica en la base */
.ludo-piece.in-base {
    position: relative; /* Se posiciona dentro del grid */
}

/* Colores de las fichas */
/* ‚ñº‚ñº‚ñº REEMPLAZA ESTE BLOQUE ‚ñº‚ñº‚ñº */
/* Colores de las fichas (Ahora usando variables m√°s oscuras) */
.ludo-piece.yellow { background-color: var(--yellow-piece-color); }
.ludo-piece.green  { background-color: var(--green-piece-color); }
.ludo-piece.red    { background-color: var(--red-piece-color); }
.ludo-piece.blue   { background-color: var(--blue-piece-color); }
/* ‚ñ≤‚ñ≤‚ñ≤ FIN DEL REEMPLAZO ‚ñ≤‚ñ≤‚ñ≤ */

/* ===========================================
   ESTILOS PARA BOTE, INICIO Y MODAL DE VICTORIA
   =========================================== */

#game-status-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    width: 100%;
    max-width: var(--board-size);
    margin: 0 auto 5px auto;
    flex-shrink: 0;
}

.game-pot-display {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--casino-gold);
    background: rgba(0, 0, 0, 0.5);
    padding: 5px 15px;
    border-radius: 6px;
    border: 1px solid var(--casino-gold);
}

#btn-start-game {
    padding: 8px 16px;
    font-size: 14px;
    font-weight: bold;
    background: linear-gradient(to bottom, #2ecc71, #28a745);
    color: white;
    border: 1px solid #1c7430;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
}

#btn-start-game:hover:not(:disabled) {
    background: linear-gradient(to bottom, #3fe781, #2ecc71);
    box-shadow: 0 3px 6px rgba(0,0,0,0.4);
}

#btn-start-game:disabled {
    background: #95a5a6;
    color: #555;
    cursor: not-allowed;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
}

/* ===========================================
   ESTILOS PARA FICHAS (ACTIVAS Y CLICABLES)
   =========================================== */

/* ‚ñº‚ñº‚ñº BLOQUE REEMPLAZADO ‚ñº‚ñº‚ñº */
/* Ficha que est√° "activa" (en el tablero) */
.ludo-piece.active {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    /* ‚ñº‚ñº‚ñº TAMA√ëO FIJO RELATIVO AL TABLERO Y REDONDO ‚ñº‚ñº‚ñº */
    /* Calculamos un tama√±o ~45% del ancho/alto de una celda (board-size / 15 celdas * 0.45) */
    /* Ajusta el multiplicador 0.45 si quieres m√°s/menos tama√±o */
    --piece-size: calc(var(--board-size) / 15 * 0.45);
    width: var(--piece-size);
    height: var(--piece-size);
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN TAMA√ëO ‚ñ≤‚ñ≤‚ñ≤ */
    z-index: 10;
    border-radius: 50%;

    /* Estilos base */
    box-sizing: border-box;
    border: 1.5px solid rgba(0, 0, 0, 0.6);
    box-shadow: inset 0 -2px 2px rgba(0, 0, 0, 0.3),
                inset 0 2px 3px rgba(255, 255, 255, 0.2),
                0 1px 1px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, top 0.3s ease, left 0.3s ease;

    /* Para centrar el contador */
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Clase para fichas reducidas cuando est√°n apiladas con otros colores */
.ludo-piece.active.stacked {
    /* Usamos el 75% del tama√±o original de la ficha */
    --stacked-size: calc(var(--piece-size) * 0.75);
    width: var(--stacked-size);
    height: var(--stacked-size);
}

/* Hacemos el contador de apilamiento (si una ficha stacked tambi√©n est√° apilada) m√°s peque√±o */
.ludo-piece.active.stacked .piece-stack-counter {
    font-size: calc(var(--board-size) / 50); /* M√°s peque√±o que el original */
}

/* Contador de fichas apiladas */
.piece-stack-counter {
    /* ‚ñº‚ñº‚ñº AJUSTA EL TAMA√ëO SI ES NECESARIO ‚ñº‚ñº‚ñº */
    font-size: calc(var(--board-size) / 40); /* Un poco m√°s peque√±o */
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN AJUSTE ‚ñ≤‚ñ≤‚ñ≤ */
    font-weight: 900;
    color: white;
    text-shadow: 0 0 2px black, 0 0 2px black; /* Sombra reducida */
    position: absolute; /* Centrado sobre la ficha */

    /* ‚ñº‚ñº‚ñº A√ëADE ESTAS DOS L√çNEAS ‚ñº‚ñº‚ñº */
    top: 50%;
    left: 50%;
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LAS L√çNEAS A A√ëADIR ‚ñ≤‚ñ≤‚ñ≤ */
    
    /* ‚ñº‚ñº‚ñº A√ëADE ESTA L√çNEA ‚ñº‚ñº‚ñº */
    /* Centra Y aplica la contra-rotaci√≥n le√≠da del tablero */
    transform: translate(-50%, -50%) rotate(var(--board-counter-rotation, 0deg));
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LA L√çNEA A A√ëADIR ‚ñ≤‚ñ≤‚ñ≤ */

    z-index: 11;
    pointer-events: none; /* No interfiere con clics */
}
/* ‚ñ≤‚ñ≤‚ñ≤ FIN DEL BLOQUE REEMPLAZADO ‚ñ≤‚ñ≤‚ñ≤ */

/* Ficha que se puede mover */
.ludo-piece.clickable {
    cursor: pointer;
    /* Animaci√≥n de pulso para indicar que es movible */
    animation: pulse 1.2s infinite ease-in-out;
    pointer-events: auto; /* <-- A√ëADE ESTA L√çNEA */
}

/* ludo.css - Animaci√≥n corregida: Solo luz, sin afectar posici√≥n */

@keyframes pulse {
    0% {
        filter: brightness(1);
        /* Eliminamos 'transform' para respetar la posici√≥n del JS */
        box-shadow: inset 0 -3px 4px rgba(0, 0, 0, 0.4), 
                    inset 0 4px 5px rgba(255, 255, 255, 0.3),
                    0 2px 3px rgba(0, 0, 0, 0.3),
                    0 0 0px 0px rgba(255, 255, 0, 0);
    }
    50% {
        /* Punto m√°ximo: Muy brillante y con halo grande */
        filter: brightness(1.4); /* Mucho m√°s brillo */
        box-shadow: inset 0 -3px 4px rgba(0, 0, 0, 0.4), 
                    inset 0 4px 5px rgba(255, 255, 255, 0.3),
                    0 2px 3px rgba(0, 0, 0, 0.3),
                    0 0 20px 10px rgba(255, 255, 0, 1); /* Halo amarillo intenso */
        border-color: rgba(255, 255, 255, 0.8); /* Borde se ilumina */
    }
    100% {
        filter: brightness(1);
        box-shadow: inset 0 -3px 4px rgba(0, 0, 0, 0.4), 
                    inset 0 4px 5px rgba(255, 255, 255, 0.3),
                    0 2px 3px rgba(0, 0, 0, 0.3),
                    0 0 0px 0px rgba(255, 255, 0, 0);
    }
}

/* Ajuste para fichas en base (Igual, solo luz) */
@keyframes pulse-base {
    0% { 
        filter: brightness(1);
        box-shadow: 0 0 0px 0px rgba(255, 255, 0, 0); 
    }
    50% { 
        filter: brightness(1.4);
        box-shadow: 0 0 25px 12px rgba(255, 255, 0, 1); /* Halo muy fuerte */
        border-color: rgba(255, 255, 255, 0.9);
    }
    100% { 
        filter: brightness(1);
        box-shadow: 0 0 0px 0px rgba(255, 255, 0, 0); 
    }
}

/* ===========================================
   POPUP PARA ELEGIR DADO
   =========================================== */
.dice-choice-popup {
    background-color: rgba(40, 40, 40, 0.9);
    border: 1px solid var(--casino-gold);
    border-radius: 5px;
    padding: 5px;
    display: flex;
    gap: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
}
.dice-choice-popup button {
    background-color: var(--casino-gold);
    color: var(--casino-dark-panel);
    border: none;
    border-radius: 3px;
    padding: 3px 6px;
    font-size: 0.8em;
    font-weight: bold;
    cursor: pointer;
}
.dice-choice-popup button:hover {
    background-color: #dbc08b;
}

/* Contenedor individual para perspectiva de cada dado */
.dice-cube-container {
    width: 34px; /* Mismo tama√±o que el dado */
    height: 34px;
    perspective: 800px; /* Perspectiva para el cubo */
}

/* El cubo en s√≠ */
.dice.cube {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    /* La transici√≥n la aplicaremos din√°micamente */
    transition: transform 1s ease-out; /* Transici√≥n para mostrar resultado final */
    /* Estado inicial (mostrando cara 1 por defecto) */
    transform: rotateX(-15deg) rotateY(15deg); /* Rotaci√≥n inicial ligera para ver 3D */
}

/* Estilo base de cada cara */
.dice.cube .face {
    position: absolute;
    width: 34px;
    height: 34px;
    background-color: white;
    border: 1px solid #555;
    border-radius: 4px; /* Bordes ligeramente redondeados */
    box-sizing: border-box;
    backface-visibility: hidden; /* Oculta la cara trasera */

    /* Usamos flex para centrar los puntos */
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap; /* Permite que los puntos se distribuyan */
    padding: 4px; /* Espacio para los puntos */
}

/* Posicionamiento 3D de cada cara */
/* (translateZ usa la mitad del tama√±o del dado: 34px / 2 = 17px) */
.dice.cube .face.front  { transform: rotateY(  0deg) translateZ(17px); }
.dice.cube .face.back   { transform: rotateY(180deg) translateZ(17px); }
.dice.cube .face.right  { transform: rotateY( 90deg) translateZ(17px); }
.dice.cube .face.left   { transform: rotateY(-90deg) translateZ(17px); }
.dice.cube .face.top    { transform: rotateX( 90deg) translateZ(17px); }
.dice.cube .face.bottom { transform: rotateX(-90deg) translateZ(17px); }

/* Estilos de los puntos */
.dice.cube .face .dot {
    width: 6px;
    height: 6px;
    background-color: #333;
    border-radius: 50%;
    position: absolute;
}

/* Posiciones de los puntos (grid 3x3) */
.dot.p1 { top: 15%; left: 15%; }
.dot.p2 { top: 15%; left: 50%; transform: translateX(-50%); }
.dot.p3 { top: 15%; right: 15%; }
.dot.p4 { top: 50%; left: 15%; transform: translateY(-50%); }
.dot.p5 { top: 50%; left: 50%; transform: translate(-50%, -50%); }
.dot.p6 { top: 50%; right: 15%; transform: translateY(-50%); }
.dot.p7 { bottom: 15%; left: 15%; }
.dot.p8 { bottom: 15%; left: 50%; transform: translateX(-50%); }
.dot.p9 { bottom: 15%; right: 15%; }

/* ‚ñº‚ñº‚ñº A√ëADE ESTO AL FINAL DEL ARCHIVO ludo.css ‚ñº‚ñº‚ñº */
@keyframes pulseGlow {
  0% {
    box-shadow: 0 0 10px rgba(173, 255, 47, 0.7), 0 2px 5px rgba(0, 0, 0, 0.5);
    transform: scale(1); /* Tama√±o normal */
  }
  50% {
    box-shadow: 0 0 18px 5px rgba(173, 255, 47, 0.9), 0 2px 5px rgba(0, 0, 0, 0.5); /* M√°s brillo */
    transform: scale(1.03); /* Ligeramente m√°s grande */
  }
  100% {
    box-shadow: 0 0 10px rgba(173, 255, 47, 0.7), 0 2px 5px rgba(0, 0, 0, 0.5);
    transform: scale(1); /* Vuelve al tama√±o normal */
  }
}
/* ‚ñ≤‚ñ≤‚ñ≤ FIN DEL C√ìDIGO A A√ëADIR ‚ñ≤‚ñ≤‚ñ≤ */

/* --- ESTILOS PARA PENALIZACI√ìN DE FALTA --- */

/* Colores - Verde Lima Unificado */
:root {
    --lime-glow: #adff2f; /* Verde lima del brillo de turno */
    --lime-glow-rgba: rgba(173, 255, 47, 0.8); /* RGBA para box-shadow */
}

/* Resaltado LIMA FL√öOR (Ambas fichas: la que deb√≠a matar Y la penalizada) */
.ludo-piece.penalty-highlight-lime {
    outline: 4px solid var(--lime-glow);
    outline-offset: 3px;
    animation: sirenEffect 3s infinite ease-in-out; /* Efecto sirena */
    z-index: 100;
    box-shadow: 0 0 20px var(--lime-glow), 0 0 40px var(--lime-glow);
}

/* Efecto sirena alternando verde lima y naranja fl√∫or */
@keyframes sirenEffect {
    0% {
        outline-color: #adff2f; /* Verde lima */
        box-shadow: 0 0 20px #adff2f, 0 0 40px #adff2f;
    }
    25% {
        outline-color: #ff4500; /* Naranja fl√∫or */
        box-shadow: 0 0 20px #ff4500, 0 0 40px #ff4500;
    }
    50% {
        outline-color: #adff2f; /* Verde lima */
        box-shadow: 0 0 20px #adff2f, 0 0 40px #adff2f;
    }
    75% {
        outline-color: #ff4500; /* Naranja fl√∫or */
        box-shadow: 0 0 20px #ff4500, 0 0 40px #ff4500;
    }
    100% {
        outline-color: #adff2f; /* Verde lima */
        box-shadow: 0 0 20px #adff2f, 0 0 40px #adff2f;
    }
}

/* Keyframes UNIFICADOS para el pulso LIMA */
@keyframes pulseHighlightLime {
    0%, 100% {
        transform: scale(1) translate(-50%, -50%);
        box-shadow: 0 0 10px 3px var(--lime-glow-rgba), inset 0 0 4px rgba(255, 255, 255, 0.4);
        opacity: 0.9;
    }
    50% {
        transform: scale(1.15) translate(-50%, -50%);
        box-shadow: 0 0 25px 12px var(--lime-glow-rgba), inset 0 0 6px rgba(255, 255, 255, 0.6);
        opacity: 1;
    }
}

/* Resaltado Casilla Objetivo (tambi√©n con LIMA) */
.cell.target-kill-highlight,
polygon.target-kill-highlight,
rect.target-kill-highlight {
    stroke: var(--lime-glow) !important;
    stroke-width: 3px !important;
    animation: pulseBorderLime 0.5s 10 ease-in-out !important; /* 10 pulsos = 5 segundos */
}
.cell.target-kill-highlight {
     outline: 2px solid var(--lime-glow) !important;
     outline-offset: -2px !important;
     animation: pulseBorderLimeDiv 0.5s 10 ease-in-out !important; /* 10 pulsos = 5 segundos */
     background-color: rgba(173, 255, 47, 0.1) !important; /* Fondo lima suave */
}

/* Keyframes para borde LIMA */
@keyframes pulseBorderLime {
    0%, 100% { stroke-width: 3px; opacity: 0.7; }
    50% { stroke-width: 5px; opacity: 1; }
}
@keyframes pulseBorderLimeDiv {
     0%, 100% { outline-width: 2px; opacity: 0.7; box-shadow: 0 0 5px var(--lime-glow-rgba); }
     50% { outline-width: 4px; opacity: 1; box-shadow: 0 0 12px var(--lime-glow-rgba); }
}

/* ===========================================
   ESTILOS PARA CASILLAS "SEGURO" Y "SALIDA"
   =========================================== */

/* --- 1. Estilo COM√öN para ambas (grande, centrado, icono) --- */
/* (Selecciona todas las casillas por su data-cell) */
.path .cell[data-cell="12"]::before,
.path .cell[data-cell="17"]::before,
.path .cell[data-cell="29"]::before,
.path .cell[data-cell="34"]::before,
.path .cell[data-cell="46"]::before,
.path .cell[data-cell="51"]::before,
.path .cell[data-cell="63"]::before,
.path .cell[data-cell="68"]::before,
.path .cell[data-cell="5"]::before,
.path .cell[data-cell="22"]::before,
.path .cell[data-cell="39"]::before,
.path .cell[data-cell="56"]::before {
    /* Sobrescribir el n√∫mero (se definir√° abajo) */
    content: ""; 
    
    /* "Centrado grande que ocupe casi toda la casilla" */
    /* Aumentamos el tama√±o para que el emoji se vea bien */
    font-size: calc(var(--board-size) / 35); 
    line-height: 1;
    text-align: center;
    width: 100%;
    height: 100%;
    display: flex; /* Usamos flex para centrar perfectamente */
    align-items: center;
    justify-content: center;
    
    /* Le damos una opacidad para que no sea tan intrusivo */
    opacity: 1; /* <-- Cambia este valor de 0.5 a 1 */ 
    color: #333;
    font-weight: normal; /* Quitamos la negrilla, no suele aplicar a emojis */

    /* ‚ñº‚ñº‚ñº A√ëADE O REEMPLAZA ESTA L√çNEA ‚ñº‚ñº‚ñº */
    /* 1. Centra el icono */
    /* 2. Lee la variable del tablero y aplica la contra-rotaci√≥n */
    transform: translate(-50%, -50%) rotate(var(--board-counter-rotation, 0deg));
    /* ‚ñ≤‚ñ≤‚ñ≤ FIN DE LA MODIFICACI√ìN ‚ñ≤‚ñ≤‚ñ≤ */
}

/* --- 2. Icono de "SEGURO" (Candado) --- */
.path .cell[data-cell="12"]::before,
.path .cell[data-cell="17"]::before,
.path .cell[data-cell="29"]::before,
.path .cell[data-cell="34"]::before,
.path .cell[data-cell="46"]::before,
.path .cell[data-cell="51"]::before,
.path .cell[data-cell="63"]::before,
.path .cell[data-cell="68"]::before {
    content: "üîí";
}

/* --- 3. Icono de "SALIDA" (Estrella) --- */
.path .cell[data-cell="5"]::before,
.path .cell[data-cell="22"]::before,
.path .cell[data-cell="39"]::before,
.path .cell[data-cell="56"]::before {
    content: "‚≠ê";
}

/* ludo.css - A√±adir al final */

/* Estilo para Bloqueo en Parch√≠s (Fondo oscuro) */
.cell.blocked-cell {
    background-color: #222 !important; /* Color casi negro */
    box-shadow: inset 0 0 15px rgba(0,0,0,0.9);
    border-color: #666 !important;
    transition: background-color 0.3s ease;
}

/* ludo.css - A√±adir al final */

/* Ocultar iconos (::before) cuando hay fichas */
.cell.hide-icon::before {
    display: none !important;
    content: none !important; /* Doble seguridad para asegurar que desaparezca */
}

/* ludo.css - A√ëADIR AL FINAL */

/* SOLUCI√ìN BLOQUEO PARCHIS: Soporte para celdas SVG (Centro) */
polygon.blocked-cell, 
rect.blocked-cell, 
path.blocked-cell {
    fill: #222 !important; /* Relleno oscuro para SVG */
    stroke: #666 !important; /* Borde gris para contraste */
    transition: fill 0.3s ease;
}

/* ludo.css - A√ëADIR AL FINAL */

/* ludo.css - REEMPLAZAR EL BLOQUE DE ESTILOS DE BLOQUEO */

/* Estilo base para fichas en bloqueo */
.ludo-piece.in-blockade {
    /* Borde s√≥lido, ligeramente m√°s grueso para que se note */
    border-style: solid !important;
    /* ‚ñº‚ñº‚ñº MODIFICACI√ìN: Borde m√°s fino (de 2.5px a 1.5px) ‚ñº‚ñº‚ñº */
    border-width: 1.5px !important;

    /* ‚ñº‚ñº‚ñº MODIFICACI√ìN: A√±adimos un resplandor (glow) ‚ñº‚ñº‚ñº */
    /* Mantenemos la sombra interna 3D original Y a√±adimos un resplandor (definido abajo) */
    box-shadow: inset 0 -3px 4px rgba(0, 0, 0, 0.4), 
                inset 0 4px 5px rgba(255, 255, 255, 0.3),
                0 2px 3px rgba(0, 0, 0, 0.5),
                /* La variable --blockade-glow se define por color: */
                var(--blockade-glow, 0 0 0px 0px transparent) !important; 

    z-index: 20 !important; /* Asegurar que se vea sobre el fondo oscuro */
}

/* Amarillo: Borde y resplandor amarillos */
.ludo-piece.in-blockade.yellow {
    /* Usamos el color brillante de la ficha (Req: "mismo color mas iluminado") */
    border-color: var(--yellow-piece-color) !important; 
    /* A√±adimos el resplandor de ese color */
    --blockade-glow: 0 0 4px 1px var(--yellow-piece-color);
}

/* Azul: Borde y resplandor azules */
.ludo-piece.in-blockade.blue {
    border-color: var(--blue-piece-color) !important;
    --blockade-glow: 0 0 4px 1px var(--blue-piece-color);
}

/* Rojo: Borde y resplandor rojos */
.ludo-piece.in-blockade.red {
    border-color: var(--red-piece-color) !important;
    --blockade-glow: 0 0 4px 1px var(--red-piece-color);
}

/* Verde: Borde y resplandor verdes */
.ludo-piece.in-blockade.green {
    border-color: var(--green-piece-color) !important;
    --blockade-glow: 0 0 4px 1px var(--green-piece-color);
}

/* --- INICIO: ESTILOS BLOQUEO PARCH√çS (V4 - Solo DIVs) --- */

/* Acelera la transici√≥n para el re-posicionamiento */
.ludo-piece.parchis-stack-2 {
    transition: transform 0.2s ease, top 0.2s ease, left 0.2s ease;
}

/* --- BLOQUEO HORIZONTAL (LADO A LADO) --- */
/* Mueve la ficha 1 al 25% (izquierda) */
.ludo-piece.parchis-stack-2.stack-horizontal.stack-first {
    transform: translate(-75%, -50%) !important;
}
/* Mueve la ficha 2 al 75% (derecha) */
.ludo-piece.parchis-stack-2.stack-horizontal.stack-second {
    transform: translate(-25%, -50%) !important;
}

/* --- BLOQUEO VERTICAL (ARRIBA/ABAJO) --- */
/* Mueve la ficha 1 al 25% (arriba) */
.ludo-piece.parchis-stack-2.stack-vertical.stack-first {
    transform: translate(-50%, -75%) !important;
}
/* Mueve la ficha 2 al 75% (abajo) */
.ludo-piece.parchis-stack-2.stack-vertical.stack-second {
    transform: translate(-50%, -25%) !important;
}

/* --- FIN: ESTILOS PARA BLOQUEO PARCH√çS --- */

/* Estilo para el bot√≥n de silenciar sonidos */
#btn-toggle-sound.muted {
    opacity: 0.5;
}
